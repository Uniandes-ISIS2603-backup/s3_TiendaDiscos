{
	"info": {
		"_postman_id": "957528af-85f4-4199-afb7-ad1b781cb698",
		"name": "Editorial Tests",
		"description": "Colección de datos para los recursos",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"_postman_id": "9eaf0ad1-b656-44e5-889e-69b563cf54d5",
			"name": "Crear una editorial",
			"event": [
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							"var data = JSON.parse(responseBody);",
							"postman.setGlobalVariable(\"new_id_e\",data.id);",
							"tests[\"no genera error en el Post\"] = responseCode.code === 200;"
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\"name\":\"Norma\"}"
				},
				"url": {
					"raw": "http://{{ip}}:{{puerto}}/frontstepbystep-api/api/editorials",
					"protocol": "http",
					"host": [
						"{{ip}}"
					],
					"port": "{{puerto}}",
					"path": [
						"frontstepbystep-api",
						"api",
						"editorials"
					]
				},
				"description": "**Release: Paso-2**\r\n\r\nCrea una nueva editorial. El recurso solo tiene el atributo \"name\" que debe ser único. El Id es inicializado por la BD y se debe ver en la respuesta de la aplicación. \r\n\r\nPara la prueba, se guarda el id en una variable que será utilizada en otras peticiones de la colección.\r\n\r\n**Código http esperado: 200**"
			},
			"response": []
		},
		{
			"_postman_id": "3b4c50c8-19d3-40a9-bb41-bb02f337bb77",
			"name": "Crear una editorial 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "951877f3-cba0-4c76-b6cf-2a006e89dfe3",
						"type": "text/javascript",
						"exec": [
							"var data = JSON.parse(responseBody);",
							"postman.setGlobalVariable(\"new_id_e2\",data.id);",
							"tests[\"no genera error en el Post\"] = responseCode.code === 200;",
							"console.log(data.id);",
							""
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"name\":\"Planeta\"\n}"
				},
				"url": {
					"raw": "http://{{ip}}:{{puerto}}/frontstepbystep-api/api/editorials",
					"protocol": "http",
					"host": [
						"{{ip}}"
					],
					"port": "{{puerto}}",
					"path": [
						"frontstepbystep-api",
						"api",
						"editorials"
					]
				},
				"description": "**Release: Paso-2**\r\n\r\nCrea otra editorial. El recurso solo tiene de atributo \"name\" que debe ser único. El Id es inicializado por la BD y se debe ver en la respuesta. \r\n\r\nEsta segunda editorial se utiliza para probar la petición que consultar todas las editoriales\r\n\r\nPara la prueba, se guarda el id en una variable que será utilizada en otras peticiones de la colección.\r\n\r\n**Código http esperado: 200**"
			},
			"response": []
		},
		{
			"_postman_id": "64ea3b93-70a0-4cb7-be1c-f01c875a46d5",
			"name": "Crear una editorial con el mismo nombre",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "eac3c237-69c1-4930-8200-7b5fc71f3222",
						"type": "text/javascript",
						"exec": [
							"tests[\"No crea con el mismo nombre\"] = responseCode.code === 412;",
							"tests[\"Mensaje correcto de error\"] = responseBody.has(\"Ya existe una Editorial con el nombre\");"
						]
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n\t\"name\":\"Norma\"\n}"
				},
				"url": {
					"raw": "http://{{ip}}:{{puerto}}/frontstepbystep-api/api/editorials",
					"protocol": "http",
					"host": [
						"{{ip}}"
					],
					"port": "{{puerto}}",
					"path": [
						"frontstepbystep-api",
						"api",
						"editorials"
					]
				},
				"description": "**Release: Paso-2**\r\n\r\nCrea una nueva editorial pero con un nombre que ya existe. Verifica que se genera el error y el mensaje \"Ya existe una Editorial con el nombre\".\r\n\r\n**Código HTTP esperado: 412 Precondition failed\".**"
			},
			"response": []
		},
		{
			"_postman_id": "30d94c48-d8df-4319-87f8-335c79dc31e9",
			"name": "Editar una editorial",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "d1ba3a9f-12f2-4dea-8ed8-328c08edb346",
						"type": "text/javascript",
						"exec": [
							"console.log(responseBody);",
							"var data = JSON.parse(responseBody);",
							"tests[\"No genera error en el Put\"] = responseCode.code === 200;"
						]
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"name\": \"Editorial con nuevo nombre\"\n}"
				},
				"url": {
					"raw": "http://{{ip}}:{{puerto}}/frontstepbystep-api/api/editorials/{{new_id_e}}",
					"protocol": "http",
					"host": [
						"{{ip}}"
					],
					"port": "{{puerto}}",
					"path": [
						"frontstepbystep-api",
						"api",
						"editorials",
						"{{new_id_e}}"
					]
				},
				"description": "**Release: Paso-2**\r\n\r\nActualiza una editorial existente. El recurso solo tiene de atributo \"name\" que debe ser único. se envía el Id de la URL de la petición.\r\n\r\n**Código http esperado: 200**"
			},
			"response": []
		},
		{
			"_postman_id": "6499659a-aa35-4400-8f92-6e224be49429",
			"name": "Editar una editorial que no existe",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "b9df8d7c-f845-4e0d-b244-f10ecadbbf44",
						"type": "text/javascript",
						"exec": [
							"tests[\"No actualiza con id que no existe\"] = responseCode.code === 404;",
							"tests[\"Mensaje correcto de error\"] = responseBody.has(\"El recurso /editorials/0 no existe.\");"
						]
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"name\": \"Editorial con nuevo nombre\"\n}"
				},
				"url": {
					"raw": "http://{{ip}}:{{puerto}}/frontstepbystep-api/api/editorials/0",
					"protocol": "http",
					"host": [
						"{{ip}}"
					],
					"port": "{{puerto}}",
					"path": [
						"frontstepbystep-api",
						"api",
						"editorials",
						"0"
					]
				},
				"description": "**Release: Paso-2**\r\nActualiza una editorial que no existe. \r\n\r\nPara la prueba se verifica que se genera el error y el mensaje \"El recurso /editorials/0 no existe.\".\r\n\r\n**Código HTTP esperado: 404**"
			},
			"response": []
		},
		{
			"_postman_id": "cc40a1df-71b7-40c3-be1d-3ae69cbe7613",
			"name": "Obtener todas las editoriales",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "75d835cf-17fb-4929-b876-886f8a88b969",
						"type": "text/javascript",
						"exec": [
							"var data= JSON.parse(responseBody);",
							"tests[\"No genera error en el Get all\"] = responseCode.code === 200;",
							"tests[\"editorials count\"] = data.length > 1;"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://{{ip}}:{{puerto}}/frontstepbystep-api/api/editorials/",
					"protocol": "http",
					"host": [
						"{{ip}}"
					],
					"port": "{{puerto}}",
					"path": [
						"frontstepbystep-api",
						"api",
						"editorials",
						""
					]
				},
				"description": "**Release: Paso-2**\r\n\r\nConsulta todas las editoriales de la aplicacion. \r\nLa petición no tiene cuerpo.\r\n\r\nPara la prueba, se verifica que el conjunto de editoriales en la respuesta tenga mas de una.\r\n\r\n**Código http esperado: 200**"
			},
			"response": []
		},
		{
			"_postman_id": "25919544-1118-4869-bb65-e1e66850652b",
			"name": "Obtener una editorial",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "72eef936-ea33-42c0-b849-f74c32c1e6c6",
						"type": "text/javascript",
						"exec": [
							"console.log(responseBody);",
							"var data = JSON.parse(responseBody);",
							"tests[\"No genera error en el Get\"] = responseCode.code === 200;"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://{{ip}}:{{puerto}}/frontstepbystep-api/api/editorials/{{new_id_e}}",
					"protocol": "http",
					"host": [
						"{{ip}}"
					],
					"port": "{{puerto}}",
					"path": [
						"frontstepbystep-api",
						"api",
						"editorials",
						"{{new_id_e}}"
					]
				},
				"description": "**Release: Paso-2**\r\n\r\nConsulta una editorial de la aplicacion.  \r\nLa petición no tiene cuerpo.\r\nSe envía el id de la editorial deseada por la URL de la petición.\r\n\r\n**Código http esperado: 200**"
			},
			"response": []
		},
		{
			"_postman_id": "ca3ba463-db20-4ecc-9c4b-02ae37206979",
			"name": "Obtener una editorial que no existe",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "521005a5-fdc4-4a18-9b70-ed56c3a72d2f",
						"type": "text/javascript",
						"exec": [
							"tests[\"No consulta con id que no existe\"] = responseCode.code === 404;",
							"tests[\"Mensaje correcto de error\"] = responseBody.has(\"El recurso /editorials/0 no existe.\");"
						]
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://{{ip}}:{{puerto}}/frontstepbystep-api/api/editorials/0",
					"protocol": "http",
					"host": [
						"{{ip}}"
					],
					"port": "{{puerto}}",
					"path": [
						"frontstepbystep-api",
						"api",
						"editorials",
						"0"
					]
				},
				"description": "**Release: Paso-2**\r\n\r\nConsulta una editorial que no existe en la aplicacion.  \r\n\r\nPara la prueba se verifica que se genera el error y el mensaje \"El recurso /editorials/0 no existe.\".\r\n\r\n**Código http esperado: 404**"
			},
			"response": []
		},
		{
			"_postman_id": "c0c6a30c-320f-48bb-89e0-06ae059db28d",
			"name": "Borrar una editorial",
			"event": [
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							"tests[\"no genera error en el Delete\"] = responseCode.code === 204;"
						]
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://{{ip}}:{{puerto}}/frontstepbystep-api/api/editorials/{{new_id_e}}",
					"protocol": "http",
					"host": [
						"{{ip}}"
					],
					"port": "{{puerto}}",
					"path": [
						"frontstepbystep-api",
						"api",
						"editorials",
						"{{new_id_e}}"
					]
				},
				"description": "**Release: Paso-2**\n\nBorra una editorial. Se envía el id de la editorial creada en la primera petición.\n\n**Código HTTP esperado: 204**"
			},
			"response": []
		},
		{
			"_postman_id": "390e6666-db46-43f8-8daa-54a36173c2cc",
			"name": "Borrar una editorial 2",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "5c6cd048-672b-4b5a-b683-fa8f4f9606bf",
						"type": "text/javascript",
						"exec": [
							"tests[\"no genera error en el Delete\"] = responseCode.code === 204;"
						]
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://{{ip}}:{{puerto}}/frontstepbystep-api/api/editorials/{{new_id_e2}}",
					"protocol": "http",
					"host": [
						"{{ip}}"
					],
					"port": "{{puerto}}",
					"path": [
						"frontstepbystep-api",
						"api",
						"editorials",
						"{{new_id_e2}}"
					]
				},
				"description": "**Release: Paso-2**\n\nBorra la editorial 2.\n\n**Código HTTP esperado: 204**"
			},
			"response": []
		},
		{
			"_postman_id": "b13a8f7d-9486-4eca-9ae5-0ca456a31f25",
			"name": "Borrar una editorial que no existe",
			"event": [
				{
					"listen": "test",
					"script": {
						"id": "89d81851-eeab-4e87-b483-8179a61e9ce7",
						"type": "text/javascript",
						"exec": [
							"tests[\"No borra con id que no existe\"] = responseCode.code === 404;",
							"tests[\"Mensaje correcto de error\"] = responseBody.has(\"El recurso /editorials/0 no existe.\");"
						]
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [],
				"body": {
					"mode": "raw",
					"raw": ""
				},
				"url": {
					"raw": "http://{{ip}}:{{puerto}}/frontstepbystep-api/api/editorials/0",
					"protocol": "http",
					"host": [
						"{{ip}}"
					],
					"port": "{{puerto}}",
					"path": [
						"frontstepbystep-api",
						"api",
						"editorials",
						"0"
					]
				},
				"description": "**Release: Paso-2**\r\n\r\nBorra una editorial que no existe en la aplicacion.  \r\n\r\nPara la prueba se verifica que se genera el error y el mensaje \"El recurso /editorials/0 no existe.\".\r\n\r\n**Código http esperado: 404**"
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "2d0e0620-f501-4edf-ac66-69de3bdf924f",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "7b78492d-c46e-4d6a-8d90-f7dc92e1d0ac",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	]
}